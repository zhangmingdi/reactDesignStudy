[{"D:\\reactstudy\\my-app\\src\\react.js":"1","D:\\reactstudy\\my-app\\src\\react-dom.js":"2","D:\\reactstudy\\my-app\\src\\index.js":"3","D:\\reactstudy\\my-app\\src\\reportWebVitals.js":"4"},{"size":1358,"mtime":1611065226649,"results":"5","hashOfConfig":"6"},{"size":3304,"mtime":1611064599093,"results":"7","hashOfConfig":"6"},{"size":2048,"mtime":1611065121492,"results":"8","hashOfConfig":"6"},{"size":362,"mtime":1609773026717,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},"a4f8ff",{"filePath":"13","messages":"14","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"15","messages":"16","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\reactstudy\\my-app\\src\\react.js",["19"],"import { updateComponent } from \"./react-dom\"\r\n\r\n\r\nfunction createElement(type, config = {}, ...childrens) {\r\n\r\n  return {\r\n    type,\r\n    props: {\r\n      ...config,\r\n      childrens\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport class Component {\r\n\r\n  static isComponent = true\r\n\r\n  constructor(props) {\r\n    this.props = props\r\n\r\n    // 更新队列\r\n    this._updateQueue = []\r\n\r\n    //回调队列\r\n    this._callbackQueue = []\r\n\r\n    // 表示是否处于批量更新状态\r\n    this._isBatchingUpdate = false\r\n\r\n  }\r\n\r\n  setState(partialState, calback) {\r\n    this._updateQueue.push(partialState)\r\n    if (calback) {\r\n      this._callbackQueue.push(calback)\r\n    }\r\n    if (!this._isBatchingUpdate) {\r\n      this.forceUpDate()\r\n    }\r\n  }\r\n\r\n\r\n\r\n  // 这个函数的作用是拿到最新的状态\r\n  forceUpDate() {\r\n\r\n    this.state = this._updateQueue.reduce((accumulate, current) => {\r\n\r\n      const nextState = typeof current == 'function' ? current(this.state) : current\r\n\r\n      //覆盖原来的状态\r\n      accumulate = { ...accumulate, ...nextState }\r\n\r\n      return accumulate\r\n\r\n    }, this.state)\r\n\r\n    this._updateQueue.length = 0\r\n\r\n    // 这个函数的作用是更新最新的jsDom对象\r\n    updateComponent(this)\r\n    this._callbackQueue.forEach(item => item())\r\n    this._callbackQueue.length = 0\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default { createElement }","D:\\reactstudy\\my-app\\src\\react-dom.js",["20"],"D:\\reactstudy\\my-app\\src\\index.js",["21","22"],"D:\\reactstudy\\my-app\\src\\reportWebVitals.js",[],{"ruleId":"23","severity":1,"message":"24","line":74,"column":1,"nodeType":"25","endLine":74,"endColumn":33},{"ruleId":"23","severity":1,"message":"24","line":122,"column":1,"nodeType":"25","endLine":122,"endColumn":26},{"ruleId":"26","severity":1,"message":"27","line":4,"column":8,"nodeType":"28","messageId":"29","endLine":4,"endColumn":11},{"ruleId":"30","severity":1,"message":"31","line":59,"column":5,"nodeType":"32","messageId":"33","endLine":64,"endColumn":6},"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-unused-vars","'App' is defined but never used.","Identifier","unusedVar","no-unreachable","Unreachable code.","ReturnStatement","unreachableCode"]