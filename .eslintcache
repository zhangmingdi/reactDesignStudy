[{"D:\\reactstudy\\my-app\\src\\react.js":"1","D:\\reactstudy\\my-app\\src\\react-dom.js":"2","D:\\reactstudy\\my-app\\src\\index.js":"3","D:\\reactstudy\\my-app\\src\\reportWebVitals.js":"4"},{"size":1641,"mtime":1611285253224,"results":"5","hashOfConfig":"6"},{"size":4114,"mtime":1611286377365,"results":"7","hashOfConfig":"6"},{"size":1255,"mtime":1611286379926,"results":"8","hashOfConfig":"6"},{"size":362,"mtime":1609773026717,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},"a4f8ff",{"filePath":"13","messages":"14","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"15","messages":"16","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\reactstudy\\my-app\\src\\react.js",["19"],"import { updateComponent } from \"./react-dom\"\r\n\r\n\r\nfunction createElement(type, config = {}, ...childrens) {\r\n\r\n  return {\r\n    type,\r\n    props: {\r\n      ...config,\r\n      childrens\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport class Component {\r\n\r\n  static isComponent = true\r\n\r\n  constructor(props) {\r\n    this.props = props\r\n\r\n    // 更新队列\r\n    this._updateQueue = []\r\n\r\n    //回调队列\r\n    this._callbackQueue = []\r\n\r\n    // 表示是否处于批量更新状态\r\n    this._isBatchingUpdate = false\r\n\r\n    this.refs = {}\r\n  }\r\n\r\n  setState(partialState, calback) {\r\n    this._updateQueue.push(partialState)\r\n    if (calback) {\r\n      this._callbackQueue.push(calback)\r\n    }\r\n    if (!this._isBatchingUpdate) {\r\n      this.forceUpDate()\r\n    }\r\n  }\r\n\r\n\r\n\r\n  // 这个函数的作用是拿到最新的状态\r\n  forceUpDate() {\r\n\r\n    this.state = this._updateQueue.reduce((accumulate, current) => {\r\n\r\n      const nextState = typeof current == 'function' ? current(this.state) : current\r\n\r\n      //覆盖原来的状态\r\n      accumulate = { ...accumulate, ...nextState }\r\n\r\n      return accumulate\r\n\r\n    }, this.state)\r\n\r\n    this._updateQueue.length = 0\r\n\r\n    // 这个函数的作用是更新最新的jsDom对象\r\n    updateComponent(this)\r\n    this._callbackQueue.forEach(item => item())\r\n    this._callbackQueue.length = 0\r\n  }\r\n\r\n}\r\n\r\nfunction createRef() {\r\n  return { current: null }\r\n}\r\n\r\nfunction forwardRef(functionComponent) {\r\n\r\n  return class extends Component {\r\n\r\n    render() {\r\n      return functionComponent(this.props, this.props.ref)\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport default {\r\n  createElement,\r\n  createRef,\r\n  forwardRef\r\n}","D:\\reactstudy\\my-app\\src\\react-dom.js",["20"],"D:\\reactstudy\\my-app\\src\\index.js",["21"],"D:\\reactstudy\\my-app\\src\\reportWebVitals.js",[],{"ruleId":"22","severity":1,"message":"23","line":88,"column":1,"nodeType":"24","endLine":92,"endColumn":2},{"ruleId":"22","severity":1,"message":"23","line":155,"column":1,"nodeType":"24","endLine":155,"endColumn":26},{"ruleId":"25","severity":1,"message":"26","line":4,"column":8,"nodeType":"27","messageId":"28","endLine":4,"endColumn":11},"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-unused-vars","'App' is defined but never used.","Identifier","unusedVar"]